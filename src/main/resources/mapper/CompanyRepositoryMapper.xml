<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.teamBus.web.repository.CompanyRepository">

	<resultMap id="CompanyResultMap" type="Company">
		<result property="ceoName" column="ceo_name" />
		<result property="establishmentDate"
			column="establishment_date" />
		<result property="phoneNumber" column="phone_number" />
	</resultMap>

	<insert id="insertNew" parameterType="Company">
		insert into company (name)
		values (#{name})
	</insert>

	<select id="findAll" resultMap="CompanyResultMap">
		select *
		from company
	</select>

	<select id="findById" resultMap="CompanyResultMap">
		select *
		from company
		where id =
		#{companyId}
	</select>

	<update id="update" parameterType="Company">
		update company
		<set>
			<if test="name != null">name=#{name},</if>
			<if test="image != null">image=#{image},</if>
			<if test="ceoName != null">ceo_name=#{ceoName},</if>
			<if test="establishmentDate != null">establishment_date=#{establishmentDate},</if>
			<if test="phoneNumber != null">phone_number=#{phoneNumber},</if>
			<if test="address != null">address=#{address},</if>
			<if test="email != null">email=#{email}</if>
		</set>
		where id= #{id}
	</update>

	<delete id="delete">
		delete
		from company
		where id = #{companyId}
	</delete>

</mapper>